
-- Table for storing Computer details 
CREATE TABLE Computer ( 
  CompId INTEGER PRIMARY KEY,
  Make   CHAR(10) NOT NULL CHECK(Make IN('Dell','Lenovo', 'Apple')),
  Model  VARCHAR2(20) NOT NULL,
  MYear  CHAR(4) NOT NULL
);

-- Table for storing Employee details 
CREATE TABLE Employee (
  Id          INTEGER PRIMARY KEY, 
  EName       VARCHAR2(40) NOT NULL,
  Doj	      DATE DEFAULT SYSDATE NOT NULL,
  Salary      DECIMAL(9,2) NOT NULL,
  Bonus       DECIMAL(9,2),
  Dept        CHAR(3) NOT NULL CHECK(Dept IN ('ICP','ETA','IVS')),
  Designation CHAR(3) NOT NULL,
  Manager     INTEGER REFERENCES Employee(Id),
  CompId      INTEGER REFERENCES Computer(CompId) UNIQUE
);

-- Data for COMPUTER table --
-----------------------------
INSERT INTO COMPUTER VALUES (1001,'Dell','Vostro',2013);
INSERT INTO COMPUTER VALUES (1002,'Dell','Precision',2014);
INSERT INTO COMPUTER VALUES (1003,'Lenovo','Edge',2013);
INSERT INTO COMPUTER VALUES (1004,'Lenovo','Horizon',2014);
INSERT INTO COMPUTER VALUES (1005,'Apple','MacPro',2015);

-- Data for Employee table  --
------------------------------
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (1,'James Potter','1-Jun-2014',75000,1000,'ICP','PM',NULL,1001);
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (2,'Ethan McCarty','1-Feb-2014',90000,1200,'ETA','PM',NULL,NULL);
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (3,'Emily Rayner','1-Jan-2014',25000,100,'ETA','SE',2,1002);
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (4,'Jack Abraham','1-Jul-2014',30000,NULL,'ETA','SSE',2,NULL);
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (5,'Ayaz Mohammad','1-Apr-2014',40000,NULL,'ICP','TA',1,1003);
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (6,'Abhinav Mittal','1-May-2014',35000,NULL,'IVS','SSE',2,NULL);
INSERT INTO EMPLOYEE (ID,ENAME,DOJ,SALARY,BONUS,DEPT,DESIGNATION,MANAGER,COMPID) VALUES (7,'Alice Jackson','1-Mar-2014',50000,NULL,'ICP','TA',1,NULL);


-- Table for storing Salesman details 
CREATE TABLE Salesman (
    SID INTEGER PRIMARY KEY, 
    SNAME CHAR(20) NOT NULL, 
    LOCATION CHAR(15) NOT NULL
);

-- Table for storing Product details 
CREATE TABLE Product (
    PRODID INTEGER PRIMARY KEY, 
    PDESC CHAR(20), 
    PRICE DECIMAL(5,2) NOT NULL, 
    CATEGORY CHAR(15) NOT NULL,
    DISCOUNT INTEGER
);

-- Table for storing Sales 
CREATE TABLE Sale (
    SALEID INTEGER PRIMARY KEY, 
    SID INTEGER NOT NULL REFERENCES Salesman(SID), 
    SLDATE DATE NOT NULL
);

-- Table for storing Sale details 
CREATE TABLE SaleDetail (
    SALEID INTEGER NOT NULL REFERENCES Sale(SALEID), 
    PRODID INTEGER NOT NULL REFERENCES PRODUCT(PRODID), 
    QUANTITY INTEGER NOT NULL,
    CONSTRAINT pk PRIMARY KEY(SALEID, PRODID)
);

-- Data for SALESMAN table --
------------------------------------
INSERT INTO SALESMAN VALUES (1,'Peter','London');
INSERT INTO SALESMAN VALUES (2,'Michael','Paris');
INSERT INTO SALESMAN VALUES (3,'John','Mumbai');
INSERT INTO SALESMAN VALUES (4,'Harry','Chicago');
INSERT INTO SALESMAN VALUES (5,'Kevin','London');
INSERT INTO SALESMAN VALUES (6,'Alex','Chicago');

-- Data for PRODUCT table --
-----------------------------------
INSERT INTO PRODUCT VALUES (101,'Basketball',10,'Sports',5);
INSERT INTO PRODUCT VALUES (102,'Shirt',20,'Apparel',10);
INSERT INTO PRODUCT VALUES (103,NULL,30,'Electronics',15);
INSERT INTO PRODUCT VALUES (104,'Cricket Bat',20,'Sports',20);
INSERT INTO PRODUCT VALUES (105,'Trouser',10,'Apparel',5);
INSERT INTO PRODUCT VALUES (106,'Television',40,'Electronics',20);

-- Data for SALE table --
--------------------------------
INSERT INTO SALE VALUES (1001,1,'1-Jan-2014');
INSERT INTO SALE VALUES (1002,5,'2-Jan-2014');
INSERT INTO SALE VALUES (1003,4,'1-Feb-2014');
INSERT INTO SALE VALUES (1004,1,'1-Mar-2014');
INSERT INTO SALE VALUES (1005,2,'1-Feb-2014');
INSERT INTO SALE VALUES (1006,1,'1-Jun-2015');

-- Data for SALEDETAIL table --
--------------------------------------
INSERT INTO SALEDETAIL VALUES(1001,106,2);
INSERT INTO SALEDETAIL VALUES(1001,103,1);
INSERT INTO SALEDETAIL VALUES(1002,102,5);
INSERT INTO SALEDETAIL VALUES(1002,101,1);
INSERT INTO SALEDETAIL VALUES(1003,104,1);
INSERT INTO SALEDETAIL VALUES(1003,101,1);
INSERT INTO SALEDETAIL VALUES(1004,103,1);
INSERT INTO SALEDETAIL VALUES(1004,104,2);
INSERT INTO SALEDETAIL VALUES(1004,106,1);
INSERT INTO SALEDETAIL VALUES(1005,101,3);
INSERT INTO SALEDETAIL VALUES(1005,106,1);
INSERT INTO SALEDETAIL VALUES(1006,102,6);
INSERT INTO SALEDETAIL VALUES(1006,104,1);

-- Table for storing Weather information 
CREATE TABLE Weather (
    ID INTEGER PRIMARY KEY,
    City VARCHAR2(20),
    Country CHAR(2),   
    RecordDate DATE,
    MinTemp NUMBER,
    MaxTemp VARCHAR2(15),
    Comments VARCHAR2(20),
    Spaces VARCHAR2(20)
);

-- Data for WEATHER table --
-----------------------------------
INSERT INTO WEATHER VALUES(1,'London','UK', '1-Jan-2014',-10,20,'   Hello  ', '3 Left, 2 Right');
INSERT INTO WEATHER VALUES(2,'Bradford','UK', '1-Feb-2014',10.2,20,'xxxHello  ', '2 Right');
INSERT INTO WEATHER VALUES(3,'Coventry','UK', '1-Mar-2014',10.5,20,'  Helloxxx', '2 Left');
INSERT INTO WEATHER VALUES(4,'Dallas','US', '1-Apr-2014',10.7,20,' xx Hello ', '1 Left, 1 Right');
INSERT INTO WEATHER VALUES(5,'Phoenix',NULL, '1-May-2014',10.84,20,'xyxHelloxyx', 'None');
INSERT INTO WEATHER VALUES(6,NULL,'INDIA', '1-Jun-2014',10.85,20,'xyxHelloyxy', 'None');
INSERT INTO WEATHER VALUES(7,NULL,NULL, '1-Jul-2014',NULL,NULL,NULL, 'None');

-- Random Store table 
CREATE TABLE RandomStore (
    ID INTEGER PRIMARY KEY,
    RANDOM_VALUE INTEGER NOT NULL,
    UPDATED_TS TIMESTAMP NOT NULL
);

INSERT INTO RandomStore (ID, RANDOM_VALUE, UPDATED_TS) VALUES(1001,50,SYSTIMESTAMP);

COMMIT;